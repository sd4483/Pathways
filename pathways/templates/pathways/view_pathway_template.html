{% extends 'shared/header.html' %}

{% block content %}
    <div class="flex justify-center">
        <div class="w-full max-w-3xl mx-4 mb-4 bg-slate-200 p-4 rounded">
            <h2 class="text-xl font-bold mb-6 text-black text-center">Pathways Created</h2>
            
            {% for pathway in pathways %}

            <div class="flex justify-between py-2 px-4 bg-slate-300 rounded text-black mb-2 align-middle">
                <div>
                    <a href="{% url 'resource_archive' pathway.id %}">{{ pathway.title }}</a>
                </div>
                <div>
                    <form method="post" action="{% url 'delete_pathway' pathway.id %}">
                        {% csrf_token %}
                        <button type="submit" class="bg-red-500 hover:bg-red-600 px-2 py-1 text-sm text-white rounded">Delete</button>
                    </form>
                </div>
            </div>
                    
            {% empty %}
                No pathways yet.
            {% endfor %}
            
        </div>
    </div>
    <script>
        var deleteButtons = document.querySelectorAll('.delete-button');
        deleteButtons.forEach(function(button) {
            button.addEventListener('click', function(event) {
                if (!confirm('Are you sure you want to delete this pathway?')) {
                    event.preventDefault();
                }
            });
        });
    </script>
{% endblock %}

